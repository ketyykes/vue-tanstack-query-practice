# Vue 3 + TanStack Query æ›¸ç±ç®¡ç†ç³»çµ±

é€™æ˜¯ä¸€å€‹ä½¿ç”¨ Vue 3 å’Œ TanStack Query å»ºç«‹çš„æ›¸ç±ç®¡ç†ç³»çµ±ç·´ç¿’å°ˆæ¡ˆï¼Œå±•ç¤ºäº†ç¾ä»£åŒ–çš„å‰ç«¯ç‹€æ…‹ç®¡ç†å’Œ API è³‡æ–™è™•ç†æŠ€è¡“ã€‚

## å°ˆæ¡ˆç°¡ä»‹

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹å®Œæ•´çš„æ›¸ç±ç®¡ç†ç³»çµ±ï¼Œå…·å‚™å®Œæ•´çš„ CRUD åŠŸèƒ½ï¼Œä½¿ç”¨ TanStack Query é€²è¡Œä¼ºæœå™¨ç‹€æ…‹ç®¡ç†ï¼Œä¸¦æ¡ç”¨ json-server ä½œç‚ºæ¨¡æ“¬å¾Œç«¯ APIã€‚å°ˆæ¡ˆå±•ç¤ºäº†å¦‚ä½•åœ¨ Vue 3 ç”Ÿæ…‹ç³»çµ±ä¸­å¯¦ç¾é«˜æ•ˆçš„è³‡æ–™åŒæ­¥å’Œä½¿ç”¨è€…é«”é©—å„ªåŒ–ã€‚

## ä¸»è¦åŠŸèƒ½

- ğŸ“š **æ›¸ç±åˆ—è¡¨é¡¯ç¤º** - éŸ¿æ‡‰å¼å¡ç‰‡ä½ˆå±€å±•ç¤ºæ›¸ç±è³‡è¨Š
- ğŸ” **å³æ™‚æœå°‹** - æ”¯æ´æ›¸å
- ğŸ“– **æ›¸ç±è©³ç´°è³‡æ–™** - å´é‚Šé¢æ¿é¡¯ç¤ºå®Œæ•´æ›¸ç±è³‡è¨Š
- â• **æ–°å¢æ›¸ç±** - è³‡æ–™æ–°å¢åŠŸèƒ½
- âœï¸ **ç·¨è¼¯æ›¸ç±** - ç·¨è¼¯å’Œæ›´æ–°æ›¸ç±è³‡è¨Š
- ğŸ—‘ï¸ **åˆªé™¤æ›¸ç±** - å®‰å…¨åˆªé™¤æ©Ÿåˆ¶
- âš¡ **è³‡æ–™é è¼‰** - æ»‘é¼ æ‡¸åœæ™‚é å…ˆè¼‰å…¥æ›¸ç±è©³ç´°è³‡æ–™
- ğŸ”„ **æ™ºèƒ½å¿«å–** - TanStack Query è‡ªå‹•å¿«å–å’ŒèƒŒæ™¯æ›´æ–°

## æŠ€è¡“æ£§

### æ ¸å¿ƒæ¡†æ¶
- **Vue 3** - ä½¿ç”¨ Composition API å’Œ `<script setup>` èªæ³•
- **Vite** - å¿«é€Ÿå»ºç½®å·¥å…·å’Œé–‹ç™¼ä¼ºæœå™¨
- **TanStack Query** - å¼·å¤§çš„ä¼ºæœå™¨ç‹€æ…‹ç®¡ç†åº«
- **Vue Router** - å‰ç«¯è·¯ç”±ç®¡ç†
- **Pinia** - è¼•é‡ç´šç‹€æ…‹ç®¡ç†åº«

### UI èˆ‡æ¨£å¼
- **Tailwind CSS** - å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶
- **SASS** - CSS é è™•ç†å™¨

### é–‹ç™¼å·¥å…·
- **TypeScript é¢¨æ ¼ JSDoc** - JSDoc å‹åˆ¥æ¨™è¨»
- **ESLint + Prettier** - ç¨‹å¼ç¢¼å“è³ªæ§åˆ¶å’Œæ ¼å¼åŒ–
- **Stylelint** - CSS ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥
- **Vue DevTools** - Vue é–‹ç™¼è€…å·¥å…·

### å¾Œç«¯èˆ‡è³‡æ–™
- **json-server** - æ¨¡æ“¬ REST API ä¼ºæœå™¨
- **Axios** - HTTP å®¢æˆ¶ç«¯åº«

## é–‹ç™¼ç’°å¢ƒéœ€æ±‚

- **Node.js** 20+ ç‰ˆæœ¬
- **pnpm** 9+ ç‰ˆæœ¬ï¼ˆå»ºè­°ä½¿ç”¨ pnpm ä½œç‚ºå¥—ä»¶ç®¡ç†å™¨ï¼‰

## å»ºè­°çš„é–‹ç™¼ç’°å¢ƒè¨­å®š

### VS Code æ’ä»¶

- [Vue - Official](https://marketplace.visualstudio.com/items?itemName=Vue.volar)
- [Prettier - Code formatter](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)
- [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)
- [Stylelint](https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint)
- [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)

## å°ˆæ¡ˆè¨­å®š

### 1. å®‰è£ä¾è³´
```bash
pnpm install
```

### 2. å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
```bash
# å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨ï¼ˆæ”¯æ´ç†±é‡è¼‰ï¼‰
pnpm dev

# å•Ÿå‹•æ¨¡æ“¬å¾Œç«¯ API ä¼ºæœå™¨
pnpm server
```

é–‹ç™¼ä¼ºæœå™¨æœƒåœ¨ä»¥ä¸‹åŸ è™Ÿé‹è¡Œï¼š
- å‰ç«¯ï¼šhttp://localhost:5173
- å¾Œç«¯ APIï¼šhttp://localhost:3004

### 3. å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
```bash
# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
pnpm build

# é è¦½å»ºç½®çµæœ
pnpm preview
```

## ç¨‹å¼ç¢¼å“è³ªèˆ‡æ¸¬è©¦

```bash
# åŸ·è¡Œç¨‹å¼ç¢¼æ ¼å¼åŒ–
pnpm format

# åŸ·è¡Œ ESLint æª¢æŸ¥èˆ‡è‡ªå‹•ä¿®å¾©
pnpm lint

# åŸ·è¡Œå–®å…ƒæ¸¬è©¦
pnpm test:unit
```

## å°ˆæ¡ˆçµæ§‹

```
vue-tanstak-query-practice/
â”œâ”€â”€ db.json                    # æ¨¡æ“¬è³‡æ–™åº«ï¼ˆjson-serverï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                   # API ç›¸é—œæª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ api.js            # API ä»‹é¢å®šç¾©
â”‚   â”‚   â””â”€â”€ types/            # TypeScript å‹åˆ¥å®šç¾©
â”‚   â”œâ”€â”€ components/           # é€šç”¨çµ„ä»¶
â”‚   â”œâ”€â”€ query/                # TanStack Query ç›¸é—œè¨­å®š
â”‚   â”œâ”€â”€ router/               # Vue Router è·¯ç”±è¨­å®š
â”‚   â”œâ”€â”€ stores/               # Pinia ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ views/                # é é¢çµ„ä»¶
â”‚   â”‚   â””â”€â”€ TanstackView/     # æ›¸ç±ç®¡ç†ä¸»é é¢
â”‚   â”‚       â”œâ”€â”€ components/   # æ›¸ç±ç®¡ç†ç›¸é—œçµ„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ BookList.vue
â”‚   â”‚       â”‚   â”œâ”€â”€ BookDetailPanel.vue
â”‚   â”‚       â”‚   â”œâ”€â”€ BookAddForm.vue
â”‚   â”‚       â”‚   â”œâ”€â”€ BookEditForm.vue
â”‚   â”‚       â”‚   â””â”€â”€ SearchFilter.vue
â”‚   â”‚       â””â”€â”€ TanstackView.vue
â”‚   â””â”€â”€ style/                # å…¨åŸŸæ¨£å¼
â””â”€â”€ public/                   # éœæ…‹è³‡æº
```

## é–‹ç™¼æŒ‡å—

### TanStack Query ä½¿ç”¨æ¨¡å¼

æœ¬å°ˆæ¡ˆå±•ç¤ºäº† TanStack Query çš„æœ€ä½³å¯¦è¸ï¼š

1. **Query Keys** - ä½¿ç”¨çµæ§‹åŒ–çš„æŸ¥è©¢éµ
2. **Mutations** - è™•ç† CUD æ“ä½œ
3. **Prefetching** - é è¼‰æ©Ÿåˆ¶

### å‹åˆ¥å®‰å…¨

å°ˆæ¡ˆä½¿ç”¨ TypeScript é¢¨æ ¼çš„ JSDoc è¨»è§£ï¼Œç¢ºä¿ï¼š
- å®Œæ•´çš„å‹åˆ¥æ¨™è¨»
- IntelliSense æ”¯æ´
- ç·¨è­¯æ™‚å‹åˆ¥æª¢æŸ¥

### ç¨‹å¼ç¢¼é¢¨æ ¼

éµå¾ªå°ˆæ¡ˆçš„ç¨‹å¼ç¢¼é¢¨æ ¼æŒ‡å—ï¼š
- å‡½å¼åç¨±ä½¿ç”¨ camelCase
- å‹åˆ¥å®šç¾©ä½¿ç”¨ PascalCase
- JSDoc å‹åˆ¥æ¨™è¨»

## API è³‡æ–™æ ¼å¼

### æ›¸ç±è³‡æ–™çµæ§‹
```typescript
interface Book {
  id: string
  title: string
  author: string
  authorId: number
  categoryId: number
  price: number
  originalPrice: number
  isbn: string
  publisher: string
  publishDate: string
  pages: number
  language: string
  description: string
  coverImage: string
  stock: number
  rating: number
  reviews: number
  isRecommended: boolean
}
```

## ç›¸é—œæ–‡ä»¶

### å®˜æ–¹æ–‡ä»¶
- [Vue 3 æ–‡ä»¶](https://vuejs.org/)
- [TanStack Query æ–‡ä»¶](https://tanstack.com/query/latest/docs/framework/vue/overview)
- [Pinia æ–‡ä»¶](https://pinia.vuejs.org/)
- [Vue Router æ–‡ä»¶](https://router.vuejs.org/)
- [Vite æ–‡ä»¶](https://vitejs.dev/)

### é–‹ç™¼å·¥å…·
- [Tailwind CSS æ–‡ä»¶](https://tailwindcss.com/docs)
- [ESLint æ–‡ä»¶](https://eslint.org/)
- [Prettier æ–‡ä»¶](https://prettier.io/)
- [Vitest æ–‡ä»¶](https://vitest.dev/)

### ç›¸é—œå¥—ä»¶
- [json-server æ–‡ä»¶](https://github.com/typicode/json-server)
- [Axios æ–‡ä»¶](https://axios-http.com/)

### åƒè€ƒè³‡æ–™

- [Practical React Query](https://tkdodo.eu/blog/practical-react-query)
- [React Query Data Transformations](https://tkdodo.eu/blog/react-query-data-transformations)
- [React Query Render Optimizations](https://tkdodo.eu/blog/react-query-render-optimizations)
- [Effective React Query Keys](https://tkdodo.eu/blog/effective-react-query-keys)
- [Mastering Mutations in React Query](https://tkdodo.eu/blog/mastering-mutations-in-react-query)